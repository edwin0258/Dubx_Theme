<script type="text/javascript" src="lastfm.api.md5.js"></script>
<script type="text/javascript" src="lastfm.api.js"></script>
<script type="text/javascript" src="lastfm.api.cache.js"></script>

<script>
/* Create a cache object */
var cache = new LastFMCache();

/* Create a LastFM object */
var lastfm = new LastFM({
  apiKey    : 'c08ab1c114238628220faeb531fa1f28',
  apiSecret : '61df03ba05687fd1790d232303caf90f',
  cache     : cache
});
var session = "";
/* Load some artist info. */
lastfm.auth.getMobileSession({username: USER_NAME,password:PASSWORD},{success: function(data){
  session = data.session.key
  //updatePlaying() //uncomment to test out if needed
  scrobbleTrack('dd','dd');
}, error: function(code, message){
  /* Show error message. */
}});

//updates feed in last.fm, does not save track in users list however..
function updatePlaying(){lastfm.track.updateNowPlaying({artist: 'TAEYEON', track: 'why',timestamp:Date.now(), api_key: 'c08ab1c114238628220faeb531fa1f28',sk:session})
lastfm.user.getRecentTracks({user:'edwin0258',api_key:'c08ab1c114238628220faeb531fa1f28'},{success: function(data){ console.log(data.recenttracks.track[0].artist['#text'] + data.recenttracks.track[0].name)
	scrobbleTrack(data.recenttracks.track[0].artist['#text'],data.recenttracks.track[0].name)}})
}
//artist_name and track for later dynamic use of function
function scrobbleTrack(artist_name, track_name){
lastfm.track.scrobble({album: null, artist: 'Rap Monster',track:'I Believe',currentTime: null, duration: null, isPlaying:true,timestamp:Date.now(), api_key: 'c08ab1c114238628220faeb531fa1f28',sk:session})
}


</script>

